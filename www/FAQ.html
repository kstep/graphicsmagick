<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=ibm437">
	<TITLE>GraphicsMagick FAQ</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice 6.0  (Solaris Sparc)">
	<META NAME="CREATED" CONTENT="20020821;20445100">
	<META NAME="CHANGEDBY" CONTENT="Bob Friesenhahn">
	<META NAME="CHANGED" CONTENT="20030406;15572300">
	<META NAME="DESCRIPTION" CONTENT="GraphicsMagick is a robust collection of tools and libraries to read, write, and manipulate an image in any of the more popular image formats including GIF, JPEG, PNG, PDF, and Photo CD.  With GraphicsMagick you can create GIFs dynamically making it suitable for Web applications.  You can also resize, rotate, sharpen, color reduce, or add special effects to an image and save your    completed work in the same or  differing image format.">
	<META NAME="KEYWORDS" CONTENT="GraphicsMagick FAQ">
	<STYLE>
	<!--
		TD P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
		P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
		DT { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
		DD { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
		PRE { color: #000000 }
		TH P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
		A:link { color: #0085c0 }
		A:visited { color: #800080 }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" TEXT="#000000" LINK="#0085c0" VLINK="#800080" BGCOLOR="#ffffff">
<FORM ACTION="http://www.google.com/search">
	<INPUT TYPE=HIDDEN NAME="domains" VALUE="www.graphicsmagick.org">
	<INPUT TYPE=HIDDEN NAME="sitesearch" VALUE="www.graphicsmagick.org">
	<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE STYLE="page-break-before: always">
		<COL WIDTH=208*>
		<COL WIDTH=48*>
		<TR>
			<TD WIDTH=81%>
				<P ALIGN=LEFT>[<A HREF="../index.html">Home</A>] [<A HREF="mission.html">Mission Statement</A>]
				[<A HREF="download.html">Download</A>] [<A HREF="install.html">Installation</A>]
				[<A HREF="cvs.html">CVS</A>] [<A HREF="http://sourceforge.net/mail/?group_id=73485">Mailing
				Lists</A>] [<A HREF="FAQ.html">FAQ</A>] [<A HREF="formats.html">Formats</A>]
				[<A HREF="NEWS.html">News</A> ] [<A HREF="Changelog.html">ChangeLog</A>]
				[<A HREF="http://sourceforge.net/projects/graphicsmagick/">Report
				Bugs</A>] [<A HREF="utilities.html">Utilities</A>]
				[<A HREF="programming.html">Programming</A>] [<A HREF="books.html">Books</A>]
				[<A HREF="links.html">Links</A>]</P>
			</TD>
			<TD ROWSPAN=2 WIDTH=19%>
				<P ALIGN=CENTER><IMG SRC="../images/magick_small.png" NAME="Graphic2" ALIGN=BOTTOM WIDTH=114 HEIGHT=118 BORDER=0></P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=81%>
				<DIV ALIGN=CENTER>
					<P><I>Search GraphicsMagick site <INPUT TYPE=TEXT NAME="q" SIZE=25 MAXLENGTH=255>
					<INPUT TYPE=SUBMIT NAME="sa" VALUE="Search"> </I>
					</P>
				</DIV>
			</TD>
		</TR>
	</TABLE>
</FORM>
<P ALIGN=LEFT>
</P>
<OL>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C1">I received the
	following message, &quot;?????? delegation failed ...&quot;. What
	does it mean?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C2">How can I improve
	the appearance of 24-bit images displayed on my colormapped <I>X
	server</I>?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C3">How do I set the
	transparency index in a GIF image so it displays properly within
	Mozilla?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C4">How can I stop
	the filenames from changing in the title bar of the animate(1) image
	window?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C5">The image grabbed
	by import(1) does not look like the image on my <I>X server</I>.
	What's wrong</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C6">How do I animate
	a digital YUV image sequence?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C7">How do I view
	only the red channel of an RGB image?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C8">How do I change
	the default <I>PostScript</I> page size?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C9">When I display or
	convert an image, I get <I>Memory allocation error</I>. What can I
	do?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C10">How do I
	concatenate three images left-to-right with no borders, frames, or
	text?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C11">How do I create
	a GIF animation sequence to display within Netscape?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C12">When I display a
	<I>PostScript</I> image it appears to be trimmed. I would like to
	display the entire page, including any white space.</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C13">What are visual
	image directories? How do I use them?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C14">I have an HP.
	How do I take advantage of the Color Recovery option?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C15">I use the window
	ID reported by <I>xwininfo(1)</I> with import and it does include
	the window manager frame as expected. How can I save the window with
	its frame?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C16">I displayed an
	image and it appears as one solid color. What did I do wrong?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C17">I received the
	following message, &quot;???? library is not available ...&quot;.
	What does it mean?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C18">I want to
	inspect the values of the matte channel within my image. How can I
	do that?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C19">Convert in.gif
	out.png&quot; says &quot;Invalid Parameter - out.png&quot;</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C20">How can I add
	one of those cool bevels to my image that I see used on the Web?</A>
		</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C21">I try to launch
	display from my window manager and it fails. What's up?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C22">When I convert
	Postscript to another format, how can I improve the appearance of
	the text?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C23">How can I
	annotate an image with text that is 2 to 3 inches tall?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C24">How can I
	convert my GIF animation sequence to individual image files?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C25">How can I remove
	the background that prints around my image when I display it with
	Netscape?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C26">How do I create
	a GIF or PNG image with Web safe colors?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C27">How come Adobe
	Acrobat 2.1 can't read GraphicsMagick's PDF format?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C28">How can I add a
	matte layer to my image?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C29">How can I draw
	with text using 'convert' under Windows NT?</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C30">Why are my GIF
	files larger than expected?</A></P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C31">Why are my JPEG
	files larger than expected?</A></P>
	<LI><P STYLE="margin-bottom: 0.08in"><A HREF="#C32">How do I extract
	a single image from a multi-image file?</A></P>
</OL>
<P STYLE="border-top: none; border-bottom: 3.55pt double #808080; border-left: none; border-right: none; padding-top: 0in; padding-bottom: 0.02in; padding-left: 0in; padding-right: 0in">
<BR><BR>
</P>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C1"></A><B>1. I received
	the following message, &quot;?????? delegation failed ...&quot;.
	What does it mean?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
<B>GraphicsMagick</B> uses several freely available packages to
perform the translation of certain image formats (<I>PostScript</I>,
<I>MPEG</I>, etc.). Make sure these packages are available as
described in the <A HREF="install.html">README</A> file. Also verify
that you have plenty of temporary disk space. If not, set the TMPDIR
environment variable to an area where space is available. Finally,
for <I>PostScript</I>, verify that Ghostscript supports the <B>pnmraw</B>
or <B>ppmraw</B> device (<TT>gs -h</TT>) and that the document
contains valid <I>PostScript</I> statements (<TT>gs image.ps</TT>). 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C2"></A><B>2. How can I
	improve the appearance of 24-bit images displayed on my colormapped
	<I>X server</I>?</B> 
	</DT></DL>
<P>
If you have a colormapped <I>X server</I>, the number of unique
colors in an image must first be reduced to match the requirements of
your server before it can be displayed. <A HREF="display.html">Display</A>
tries to make the color reduced image closely resemble the original.
However, there are some options that may improve the appearance. 
</P>
<P>You can use a private colormap. By default, your image must share
colors with existing applications on your <I>X server</I>. The colors
in your image may be very different than the shared colors and the
results may be visually unsatisfactory. Try 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display -colormap private image.miff</PRE><P>
The disadvantage is the annoying colormap loading and unloading as
you move your pointer in and out of the image window. 
</P>
<P>The YCbCr colorspace may give better results when color reducing
images of people faces. Try 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display -colorspace YCbCr image.miff</PRE><P>
If you intend to view an image frequently, reduce the number of
colors to match the resolution of your <I>X server</I> once and write
to a new image. Then display this new image. For example, 
</P>
<PRE> convert -colors 256 -dither image.jpeg image.miff
 display image.miff</PRE><P>
This forces the time-consuming process of color reducing the image to
one-time, rather than each time the image is displayed. 
</P>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C3"></A><B>3. How do I set
	the transparency index in a GIF image so it displays properly within
	Mozilla?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Display your GIF image with <A HREF="display.html">display</A>.
Choose <B>Matte</B> from the <B>Image Edit</B> command menu and
identify a pixel that has the <I>transparency</I> color. Press <B>Method</B>
and select a matte edit method from a pop-up menu. Choose from these
methods: 
</DD><PRE> point
 replace
 floodfill</PRE><P>
The <B>point</B> method changes the matte value of any pixel selected
with the pointer until the button is is released. The <B>replace</B>
method changes the matte value of any pixel that matches the color of
the pixel you select with a button press. <B>Floodfill</B> changes
the matte value of any pixel that matches the color of the pixel you
select with a button press and is a neighbor. 
</P>
<P>Select your transparent pixel with the pointer and press a button.
The image is redisplayed with any transparent pixels recolored to the
background color. You can select other pixels or areas to force to
transparent. When you are satisfied, press Return. 
</P>
<P>Finally, choose <B>Save</B> from the command menu and write your
GIF image to a file. <I>Note that setting transparency works best on
a TrueColor or DirectColor visual</I>. If your server only exports
colormapped visuals you will need to use a <B>Standard Colormap</B>
to set transparency. 
</P>
<PRE> xstdcmap -best
 display -map list image.gif
 <I>choose Matte Edit</I>
<I> select your transparent pixel then press Return</I>
<I> choose Save</I></PRE><P>
If you do not have the <I>xstdcmap(1)</I> program, try 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display -visual TrueColor image.gif</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C4"></A><B>4. How can I
	stop the filenames from changing in the title bar of the animate(1)
	image window?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
<A HREF="animate.html">Animate</A> updates the image file name in the
title bar of the image window as each image is displayed from the
image sequence. To display just a single name that will not change,
use <I>-title</I>: 
</DD><PRE STYLE="margin-bottom: 0.2in"> animate -title &quot;My Image Sequence&quot; images.</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C5"></A><B>5. The image
	grabbed by import(1) does not look like the image on my <I>X server</I>.
	What's wrong?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Use the <I>-descend</I> option: 
</DD><PRE STYLE="margin-bottom: 0.2in"> import -descend image.miff</PRE><P>
or set this <I>X resource</I>: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> import.descend: True</PRE><P>
By default, <A HREF="import.html">import</A> quickly grabs the image
from the <I>X server</I>. However, it may not always have the correct
colors in some areas. This can happen when a subwindow has a
different colormap than its parent. With <I>-descend</I>, <A HREF="import.html">import</A>
descends the window hierarchy. Descending involves grabbing the image
and colormap of each window or subwindow associated with the window
you select and compositing it on a blank canvas. This can be
significantly slower than just grabbing the top-level window but
ensures the correct image. 
</P>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C6"></A><B>6. How do I
	animate a digital YUV image sequence?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Suppose your sequence is 72 352x240 frames titled frame0.Y, frame0.U,
frame0.V, frame1.Y, frame1.U, etc. Use this command: 
</DD><PRE STYLE="margin-bottom: 0.2in"> animate -geometry 352x240 -scene 0-71 yuv3:frame%d</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C7"></A><B>7. How do I
	view only the red channel of an RGB image?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Use the <I>-gamma</I> option, for example, 
</DD><PRE STYLE="margin-bottom: 0.2in"> display -gamma 1.0,0.0,0.0 image.miff</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C8"></A><B>8. How do I
	change the default <I>PostScript</I> page size?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
The default dimensions of a <I>PostScript</I> page is 612x792. If you
prefer another default, change the page geometries (PSPageGeometry)
in <I>magick/image.h</I> and recompile. 
</DD><DL>
	<DT STYLE="margin-bottom: 0.2in">
	<A NAME="C9"></A><B>9. When I display or convert an image, I get
	<I>Memory allocation error</I>. What can I do?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Memory allocation is a complex topic in GraphicsMagick and image
processing requires a lot of memory. GraphicsMagick tries to take
best advantage of the resources available by optimizing its use of
<I>virtual</I> memory. Virtual memory is normally the amount of RAM
(Random Access Memory) available to the process plus the amount of
free space in the system paging area (known as &quot;swap&quot; under
Unix, or a &quot;page file&quot; under Windows). In addition to the
RAM and the paging area, GraphicsMagick is able to expand the amount
of virtual memory available by using memory-mapped files which cause
the file to be treated as extra memory. A piece of hardware known as
the Memory Management Unit (MMU) performs the magic which allows the
system paging area and memory-mapped files to be treated as more
memory by your system's CPU.</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Usually when a memory allocation error occurs, it is because the
system's paging area is full, or the programs memory (heap) is
fragmented badly enough that there is no large-enough block of memory
available to satisfy the request. In some cases the operating system
may artificially limit the memory available to the program.</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Failures of small memory allocations are generally considered fatal
by GraphicsMagick. If it is impossible to allocate even a little bit
of memory, then there is no point in continuing. When large memory
allocations associated with allocating memory for image pixels fail,
GraphicsMagick uses that as a key to know that it should start using
memory-mapped temporary files to increase virtual memory. Under Unix
and other POSIX-compliant systems, these memory-mapped temporary
files are created in either the system default location (e.g.
/var/tmp) or the directory set by the TMPDIR environment variable.
Under Windows, temporary files are created in the directory set by
the TEMP or TMP environment variable.</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
If the temporary file directory is too small, or is itself mapped to
the system's paging area (no win!), then GraphicsMagick will fail to
allocate more virtual memory via the temporary file and will return
an error.</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
The single biggest factor in how much memory is required by
GraphicsMagick is the QuantumDepth setting when it was compiled. The
amount of memory (in bytes) required to store a single image in
memory is may be calculated via the equation
(QuantumDepth*Rows*Columns*5)/8. As a means of example, the following
table shows the amount of memory consumed by a single 1024x768 image
using the supported QuantumDepth settings:</DD><DL>
	<DL>
		<DD>
		<TABLE WIDTH=356 BORDER=1 CELLPADDING=4 CELLSPACING=3>
			<COL WIDTH=162>
			<COL WIDTH=167>
			<THEAD>
				<TR VALIGN=TOP>
					<TH WIDTH=162>
						<P>QuantumDepth</P>
					</TH>
					<TH WIDTH=167>
						<P>Virtual Memory</P>
					</TH>
				</TR>
			</THEAD>
			<TBODY>
				<TR>
					<TD WIDTH=162 VALIGN=BOTTOM SDVAL="8" SDNUM="1033;">
						<P ALIGN=CENTER>8</P>
					</TD>
					<TD WIDTH=167 VALIGN=TOP>
						<P ALIGN=CENTER>3MB</P>
					</TD>
				</TR>
				<TR>
					<TD WIDTH=162 VALIGN=BOTTOM SDVAL="16" SDNUM="1033;">
						<P ALIGN=CENTER>16</P>
					</TD>
					<TD WIDTH=167 VALIGN=TOP>
						<P ALIGN=CENTER>8MB</P>
					</TD>
				</TR>
				<TR>
					<TD WIDTH=162 VALIGN=BOTTOM SDVAL="32" SDNUM="1033;">
						<P ALIGN=CENTER>32</P>
					</TD>
					<TD WIDTH=167 VALIGN=TOP>
						<P ALIGN=CENTER>15MB</P>
					</TD>
				</TR>
			</TBODY>
		</TABLE>
	</DL>
</DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">Performing an
image processing operation may require that several images be in
memory at one time. In the case of animations, hundreds of images may
be in memory at one time.</DD><P>
<B>GraphicsMagick</B> is designed to be general purpose. It can
display many image storage formats (<I>Monochrome</I>, <I>PseudoColor</I>,
or <I>TrueColor</I>) on many different types of <I>X visuals</I>
(<I>StaticGray, StaticColor, PseudoColor, GrayScale, DirectColor,</I>
or <I>TrueColor</I>). To support all these combinations of image
storage formats and X visuals, extra memory is required.
Additionally, <A HREF="animate.html">animate</A> and <A HREF="montage.html">montage</A>
store an entire image sequence in memory.</P>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">It is recommended
that systems used to run <B>GraphicsMagick</B> have at least 96MB of
RAM and 140MB free in their paging area. Systems used to process
large images (do the math!) may require considerably more memory to
operate efficiently. RAM is typically 1000 times faster than disk, so
it is important to keep as much data in RAM as possible (buy lots of
RAM). The temporary file area should have plenty of free space. The
size of the temporary file area is usually the deciding factor as to
whether GraphicsMagick is able to complete an operation. With
sufficient free disk space, GraphicsMagick is primarily limited by
your CPU and operating system's ability to address memory.
GraphicsMagick has been used to process images 20K by 20K pixels in
size!</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C10"></A><B>10. How do I
	concatenate three images left-to-right with no borders, frames, or
	text?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Assume your three images are called <TT>image1.ppm</TT>, <TT>image2.ppm</TT>,
and <TT>image3.ppm</TT>. Type 
</DD><PRE> montage -mode concatenate -tile 3x1 image1.ppm image2.ppm \
 image3.ppm concatenated.miff</PRE><P>
To concatenate the images top-to-bottom, use <TT>-tile 1x3</TT>. 
</P>
<P>For more control over the placement of an image, use <A HREF="composite.html">composite</A>.
First create a matte image and position your images onto the matte.
For example, 
</P>
<PRE> convert -size 350x500 xc:black composite.miff
 composite -geometry +0+0 composite.miff image1.gif composite.miff
 composite -geometry &quot;+1&quot;00+0 composite.miff image2.gif composite.miff
 composite -geometry +0+300 composite.miff image3.gif composite.miff
 composite -geometry +0+375 composite.miff image4.gif composite.miff</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C11"></A><B>11. How do I
	create a GIF animation sequence to display within Netscape?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Use <A HREF="convert.html">convert</A> with the <B>-delay</B> and
<B>-page</B> options. The <B>-delay</B> option is used to specify the
delay in <B>1/100ths of a second</B> between the display of each
frame of the animation. For example, 
</DD><PRE STYLE="margin-bottom: 0.2in"> convert -delay 20 frame*.gif animation.gif</PRE><P>
You can also declare specific delays for each frame of the image
sequence. For example, if the delay was 20, 10, and 5, use 
</P>
<PRE> convert -delay 20 frame1.gif -delay 10 frame2.gif \
 -delay 5 frame3.gif animation.gif</PRE><P>
Use <B>-page</B> to specify the <I>left</I> and <I>top</I> locations
of the image frame: 
</P>
<PRE> convert frame1.gif -page +50&quot;+1&quot;00 frame2.gif -page +0&quot;+1&quot;00 \
 frame3.gif animation.gif</PRE><P>
Finally, if you want the image to loop within <B>Netscape</B>, use
<B>-loop</B>: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> convert -loop 50 frame*.gif animation.gif</PRE><P>
For further information about GIF animation, see <A HREF="http://members.aol.com/royalef.pngmake.htm">GIF
Animation on the WWW</A>. 
</P>
<P>Note, that all the images are composited into a single multi-image
GIF animation. If you want a single image produced for each frame,
use <B>+adjoin</B>: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> convert +adjoin images.* frames%d.gif</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C12"></A><B>12. When I
	display a <I>PostScript</I> image it appears to be trimmed. I would
	like to display the entire page, including any white space.</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
<B>GraphicsMagick</B> automatically trims any <I>PostScript</I> image
as defined by the bounding box. To preempt this behavior, remove the
bounding box statement from the Postscrpt or explicitly set the page
size. For example, 
</DD><PRE STYLE="margin-bottom: 0.2in"> display -page letter image.ps</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C13"></A><B>13. What are
	visual image directories? How do I use them?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
A visual image directory (VID) is an image that contains thumbnails
of one or more images in a file directory. Rather than displaying
each individual image at its full resolution, you can browse the
visual image directory and choose an image to display. You can create
a VID with either of these commands: 
</DD><PRE> montage *.jpg directory.vid
 convert 'vid:*.jpg' directory.vid</PRE><P>
Of course you can substitute any filenames you desire. <A HREF="montage.html">Montage</A>
has many relevant command line options. You can exercise more control
over the appearance of the VID than with <A HREF="convert.html">convert</A>.
</P>
<P>Next display the directory: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display directory.vid</PRE><P>
Finally browse and select an image to display. Move the pointer to
the image and press button 3. 
</P>
<P>You can create the VID directory with this command: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display 'vid:*.jpg'</PRE><P>
You can also select <B>Visual Image...</B> from the <B>File</B> menu
of the command widget. 
</P>
<P><I>Note, that creating a VID is time consuming</I>. Creating them
on-the-fly within <A HREF="display.html">display</A> may be less
convenient than using <A HREF="montage.html">montage</A> or <A HREF="convert.html">convert</A>
. Also, if you create them with <A HREF="montage.html">montage</A>.
or <A HREF="convert.html">convert</A>, you can reuse them as often as
necessary. 
</P>
<P>Note that a visual image directory is useful for looking at
individual frames of an image sequence: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display vid:movie.mpg</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C14"></A><B>14. I have an
	HP. How do I take advantage of the Color Recovery option?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Type 
</DD><PRE STYLE="margin-bottom: 0.2in"> display -map list image.miff</PRE><P>
If you want to use <A HREF="http://www.hp.com/workstations/support/documentation/manuals/user_guides/graphics/GAG11/3_XWindows11.html#HPColorRecovery">Color
Recovery</A> all the time, put this in your X defaults file: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display.map: list</PRE><P>
Now if you need to turn off Color Recovery temporarily, type 
</P>
<PRE STYLE="margin-bottom: 0.2in"> display +dither image.miff</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C15"></A><B>15. I use the
	window ID reported by <I>xwininfo(1)</I> with import and it does
	include the window manager frame as expected. How can I save the
	window with its frame?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
By default, <I>xwininfo(1)</I> returns the ID of the window you click
on. Use the <I>-frame</I> option to get the reparented window ID: 
</DD><PRE STYLE="margin-bottom: 0.2in"> xwininfo -frame</PRE><P>
You can then use the returned window ID with <A HREF="import.html">import</A>:
</P>
<PRE STYLE="margin-bottom: 0.2in"> import -frame -window ID window.miff</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C16"></A><B>16. I
	displayed an image and it appears as one solid color. What did I do
	wrong?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
A blank image generally means that the image is either corrupt or it
has a matte channel and the matte values are all zero. <B>GraphicsMagick</B>
treats a matte value of zero as completely transparent. To determine
if this is the problem, try 
</DD><PRE STYLE="margin-bottom: 0.2in"> display +matte image.miff</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C17"></A><B>17. I received
	the following message, &quot;???? library is not available ...&quot;.
	What does it mean?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
<B>GraphicsMagick</B> requires source libraries not included with the
distribution to view or convert certain image formats such as JPEG or
TIFF. The above message means you did not compile the required
library and link with the <B>GraphicsMagick</B> utilities. See <A HREF="install.html">README</A>
for the location of these libraries and compiling instructions.</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C18"></A><B>18. I want to
	inspect the values of the matte channel within my image. How can I
	do that?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
View the matte image as a gray scale image. Suppose you have a TIFF
image that has a matte channel and is 640 pixels in width and 480 in
height. Type: 
</DD><PRE> convert image.tiff image.matte
 display -size 640x480 gray:image.matte</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C19"></A><B>19. &quot;Convert
	in.gif out.png&quot; says &quot;Invalid Parameter - out.png&quot;</B>
		</DT></DL>
<DD STYLE="margin-left: 0in">
You have inadvertently run the Microsoft Windows program called
convert.exe, rather than the GraphicsMagick program of the same name.
The Windows convert.exe program is used to convert a system boot disk
from MS-DOS &quot;FAT&quot; format to NTFS format. As such it can
only be used one time in the life of a system.</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
You can 
</DD>
<UL><LI><DD>
	rename either the MS convert.exe or the GraphicsMagick convert.exe 
	</DD><LI><DD>
	revise your PATH to put GraphicsMagick's convert.exe ahead of MS
	convert.exe 
	</DD><LI><DD STYLE="margin-bottom: 0.2in">
	edit your Windows Registry as explained in
	<A HREF="http://savage.net.au/GraphicsMagick.html/install-convert.html">http://savage.net.au/GraphicsMagick.html/install-convert.html</A>
		</DD></UL>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C20"></A><B>20. How can I
	add one of those cool bevels to my image that I see used on the Web?</B>
		</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
There are four types of ornamental borders you can add to your image
with GraphicsMagick. Each is listed below with the procedure to use
them with your image. 
</DD>
<UL><LI><P>
	<I>Surround the image with a border of color</I>: Use <TT>-border</TT>
	followed by the width and height of the border. Set the color of the
	border with <TT>-bordercolor</TT>. For example, to surround your
	image with a red border that is 25 pixels wide on each side, use: 
	</P>
	<PRE STYLE="margin-bottom: 0.2in"> convert -bordercolor red -border 25x25 image.jpg image.gif</PRE>
	<LI><P><I>Lighten or darken image edges to create a 3-D effect</I>:
	Use <TT>-raise</TT> followed by the width of the image edge. For
	example, to create a raised edge effect of 25 pixels, use: 
	</P>
	<PRE STYLE="margin-bottom: 0.2in"> convert -raise 25 image.jpg image.gif</PRE>
	<LI><P><I>Surround the image with an ornamental frame</I>: Use
	<TT>-frame</TT> followed by the width and height of the frame. Set
	the color of the border with <TT>-mattecolor</TT>. For example, to
	surround your image with a gray frame that is 25 pixels wide on each
	side, use: 
	</P>
	<PRE STYLE="margin-bottom: 0.2in"> convert -mattecolor gray -frame 25x25 image.jpg image.gif</PRE>
	<LI><P><I>Surround the image with a raised or sunken bevel</I>: Use
	<TT>-frame</TT> followed by the width and height of the bevel. Set
	the color of the border with <TT>-mattecolor</TT>. This is just like
	the description above except you specify a bevel width that matches
	the frame width. For example, to surround your image with a gray
	bevel that is 25 pixels wide on each side, use: 
	</P>
	<PRE> convert -mattecolor gray -frame 25x25+0+25 image.jpg image.gif
 convert -mattecolor gray -frame 25x25+25+0 image.jpg image.gif</PRE>
</UL>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C21"></A><B>21. I try to
	launch display from my window manager and it fails. What's up?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
<A HREF="display.html">Display</A> determines if it is executing
interactively and behaves differently depending on the result. To
convince <A HREF="display.html">display</A> you are running in an
interactive environment when launching from a window manager, use
either of 
</DD><PRE> display logo:Untitled
 display &lt; /dev/console</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C22"></A><B>22. When I
	convert Postscript to another format, how can I improve the
	appearance of the text?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Simple. Increase the dots-per-inch when converting and sub-sample: 
</DD><PRE STYLE="margin-bottom: 0.2in"> convert -density 288 -geometry 25% image.ps image.gif</PRE><P>
Change the density to 144 and geometry to 50% if the above command
fails due to insufficient memory. Alternatively, see the Ghostscript
documentation about using high-quality fonts. 
</P>
<P>The <TT>-density</TT> option increases the number of pixels (or
dots) generated by Ghostscript when processing the input postscript
file. However as all other images formats are generally displayed on
screens which are typically about 72 to 100 dots per inch, the output
image will be larger. 
</P>
<P>The <I>-geometry</I> option reduces the large image output of
ghostscript image back to a normal 72 dpi resolution (25% of 288 dpi
gives 72 dpi) but in the process anti-aliases (or smooths) the fonts
and lines of the image so as to remove the <I>jaggies</I> you would
otherwise get from a normal postscript to image conversion. 
</P>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C23"></A><B>23. How can I
	annotate an image with text that is 2 to 3 inches tall?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
If you do not access to a particular named font that is large, try
scalable fonts. First see if you have any scalable fonts. Type 
</DD><PRE STYLE="margin-bottom: 0.2in"> xlsfonts -fn '*-0-0-0-0-*'</PRE><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Or if you are using <A HREF="display.html">display</A>, use the font
pattern above within the Font Browser (see Image Edit-&gt;Annotate).
Next substitute the appropriate resolution. Keep in mind that a
scalable font must be fully qualified to work. That is, all 14 fields
must be specified. Here is one example where we annotate an image
with large <I>Helvetica</I> text: 
</DD><PRE> convert -font '-*-helvetica-*-*-*--300-300-*-*-*-*-iso8859-1' \
 -fill green -draw 'text 50,300 Magick' image.gif annotated.gif</PRE><P>
If you have the FreeType support built into GraphicsMagick, just
increase your pointsize and/or density: 
</P>
<PRE STYLE="margin-bottom: 0.2in"> convert -font Helvetica -pointsize 100 -density 300 ...</PRE>
<HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C24"></A><B>24. How can I
	convert my GIF animation sequence to individual image files?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
Use the scene embedded file format with <A HREF="convert.html">convert</A>:
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp; <TT>convert animation.gif frame%02d.gif</TT> 
</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
The resulting image files are titled <TT>frame01.gif</TT>,
<TT>frame02.gif</TT>, <TT>frame03.gif</TT>, etc. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C25"></A><B>25. How can I
	remove the background that prints around my image when I display it
	with Netscape?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
Use the <TT>+page</TT> option of the <A HREF="convert.html">convert</A>
command: 
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp; <TT>convert +page alpha.gif beta.gif</TT> 
</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
GIF allows for a page offset relative to some background. The page
offset information may have been in your GIF image already or it
could have been introduced by GraphicsMagick. Either way, <TT>+page</TT>
removes the unwanted page offset and Netscape should behave as
expected. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C26"></A><B>26. How do I
	create a GIF or PNG image with Web safe colors?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
Use the <TT>-map</TT> option of the <A HREF="convert.html">convert</A>
command: 
</DD><DD STYLE="margin-left: 0in">
<TT>&nbsp;&nbsp;&nbsp; convert -map netscape: alpha.gif beta.gif</TT>
</DD><DD STYLE="margin-left: 0in">
Netscape predefines 216 colors for colormapped displays. Use the
above command to ensure only these predefined colors are used.
Otherwise Netscape dithers your image with varying degrees of image
fidelity. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C27"></A><B>27. How come
	Adobe Acrobat 2.1 can't read GraphicsMagick's PDF format?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
The default PDF compression is <I>Zip</I>. You need Acrobat 3.0 and
above to read Zip compressed PDF. Instead use no compression or LZW
compression when you create the PDF file: 
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp; <TT>convert +compress images.tiff image.pdf</TT> 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C28"></A><B>28. How can I
	add a matte layer to my image?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
One way is to use a bitmap as your transparency mask. Try 
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <TT>composite -compose CopyOpacity
image.gif mask.xbm transparent.gif</TT> 
</DD><DD STYLE="margin-left: 0in; margin-bottom: 0.2in">
Note, GIF is limited to one transparent color. If your mask has
variable opacity, use a format like MIFF, TIFF, or PNG as you output
image format. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C29"></A><B>29. How can I
	draw with text using 'convert' under Windows NT?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
The problem is that NT interprets the command line differently than
Unix does, causing the documented command to fail. The following
command has been reported to work correctly (all on one line): 
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <TT>convert -font Arial -fill blue
-draw &quot;text 10,10 'your text here'&quot; d:\test.tif
png:d:\test.png</TT> 
</DD><DD STYLE="margin-left: 0in">
and here is another example which is reported to work (which relies
on Ghostscript's 'gs' program to installed): 
</DD><DD STYLE="margin-left: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <TT>convert.exe -pointsize 18 -draw
&quot;text 0,0 &quot;This is my text!&quot;&quot; C:\blank.gif
c:\text.gif</TT> 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C30"></A><B>30. Why are my
	GIF files larger than expected?</B> 
	</DT></DL>
<DD STYLE="margin-left: 0in">
LZW compression is disabled by default for GIF (also TIFF) formats,
because of the UniSys patent. You can rebuild GraphicsMagick with it
enabled, after you have obtained a license from UniSys. Or you can
use a third-party commercial UniSys-licensed application to
recompress them. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C31"></A><B>31. Why are my
	JPEG files larger than expected?</B></DT></DL>
<DD STYLE="margin-left: 0in; font-weight: medium">
Your JPEG files may contain embedded &quot;profiles&quot; such as
Exif or IPTC, or they may contain uncompressed thumbnails. You can
use the <FONT FACE="Cumberland">+profile &quot;*&quot;</FONT>
commandline option or an equivalent API method to remove them. 
</DD><HR SIZE=5>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><A NAME="C32"></A><B>32. How do I
	extract a single image from a multi-image file?</B></DT></DL>
<DD STYLE="margin-left: 0in; margin-bottom: 0.2in; font-weight: medium">
Use a square-bracket syntax to indicate which frame or frames you
want. For example, 
</DD><PRE STYLE="margin-bottom: 0.2in"> convert &quot;Image.gif[0]&quot; first.gif</PRE><P STYLE="margin-bottom: 0in">
Will extract the first image (scene 0) from a GIF animation. Be sure
to surround the file specification with quotation marks, to prevent
the shell from interpreting the square brackets. 
</P>
<HR>
<P><A HREF="../index.html"><IMG SRC="../images/home.png" NAME="Graphic2" ALT="GraphicsMagick Home Page" ALIGN=MIDDLE WIDTH=40 HEIGHT=40 BORDER=0></A><A HREF="mailto:webmaster@graphicsmagick.org"><IMG SRC="../images/mail.png" NAME="Graphic3" ALT="GraphicsMagick Home Page" ALIGN=MIDDLE WIDTH=40 HEIGHT=40 BORDER=0></A><FONT SIZE=1>
Image manipulation software that works like magic.</FONT> 
</P>
</BODY>
</HTML>

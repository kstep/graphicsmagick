<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>pixel_cache</title>
<link rel="stylesheet" href="../docutils-api.css" type="text/css" />
</head>
<body>

<div class="banner">
<span>
<img src="../images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
    Search&nbsp;site
	<input type=hidden name="domains" value="www.graphicsmagick.org" />
	<input type=hidden name="sitesearch" value="www.graphicsmagick.org" />
    <input type=text name="q" size="25" maxlength="255" />
    <input type=submit name="sa" value="Search" />
</form>
</span>
</div>

<div class="navmenu">
<ul>
<li><a href="../index.html">Home</a></li>
<li><a href="../Copyright.html">License</a></li>
<li><a href="../mission.html">Mission</a></li>
<li><a href="../download.html">Download</a></li>
<li><a href="../README.html">Installation</a></li>
<li><a href="../FAQ.html">FAQ</a></li>
<li><a href="../NEWS.html">News</a> </li>
<li><a href="../formats.html">Formats</a></li>
</ul>
</div>
<div class="navmenu">
<ul>
<li><a href="../process.html">Process</a></li>
<li><a href="../contribute.html">Contribute</a></li>
<li><a href="../CVS.html">CVS</a></li>
<li><a href="http://sourceforge.net/mail/?group_id=73485" target="top_">Mailing Lists</a></li>
<li><a href="../Changelog.html">ChangeLog</a></li>
<li><a href="http://sourceforge.net/projects/graphicsmagick/" target="top_">Report Bugs</a></li>
<li><a href="../utilities.html">Utilities</a></li>
<li><a href="../programming.html">Programming</a></li>
<li><a href="../links.html">Links</a></li>
</ul>
</div>
<div class="document" id="pixel-cache">
<h1 class="title">pixel_cache</h1>
<h2 class="subtitle" id="image-pixel-cache-working-pixels">Image pixel cache (working pixels).</h2>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#accesscacheviewpixels" id="id47" name="id47">AccessCacheViewPixels</a></li>
<li><a class="reference" href="#acquirecacheviewpixels" id="id48" name="id48">AcquireCacheViewPixels</a></li>
<li><a class="reference" href="#acquirecacheviewindexes" id="id49" name="id49">AcquireCacheViewIndexes</a></li>
<li><a class="reference" href="#acquireimagepixels" id="id50" name="id50">AcquireImagePixels</a></li>
<li><a class="reference" href="#acquireonecacheviewpixel" id="id51" name="id51">AcquireOneCacheViewPixel</a></li>
<li><a class="reference" href="#acquireonepixel" id="id52" name="id52">AcquireOnePixel</a></li>
<li><a class="reference" href="#destroycacheinfo" id="id53" name="id53">DestroyCacheInfo</a></li>
<li><a class="reference" href="#destroyimagepixels" id="id54" name="id54">DestroyImagePixels</a></li>
<li><a class="reference" href="#getcacheviewpixels" id="id55" name="id55">GetCacheViewPixels</a></li>
<li><a class="reference" href="#getcacheviewimage" id="id56" name="id56">GetCacheViewImage</a></li>
<li><a class="reference" href="#getcacheviewindexes" id="id57" name="id57">GetCacheViewIndexes</a></li>
<li><a class="reference" href="#getimagepixels" id="id58" name="id58">GetImagePixels</a></li>
<li><a class="reference" href="#getimagevirtualpixelmethod" id="id59" name="id59">GetImageVirtualPixelMethod</a></li>
<li><a class="reference" href="#getindexes" id="id60" name="id60">GetIndexes</a></li>
<li><a class="reference" href="#getonepixel" id="id61" name="id61">GetOnePixel</a></li>
<li><a class="reference" href="#getpixels" id="id62" name="id62">GetPixels</a></li>
<li><a class="reference" href="#modifycache" id="id63" name="id63">ModifyCache</a></li>
<li><a class="reference" href="#opencacheview" id="id64" name="id64">OpenCacheView</a></li>
<li><a class="reference" href="#referencecache" id="id65" name="id65">ReferenceCache</a></li>
<li><a class="reference" href="#setcacheviewpixels" id="id66" name="id66">SetCacheViewPixels</a></li>
<li><a class="reference" href="#setimagepixels" id="id67" name="id67">SetImagePixels</a></li>
<li><a class="reference" href="#setimagevirtualpixelmethod" id="id68" name="id68">SetImageVirtualPixelMethod</a></li>
<li><a class="reference" href="#synccacheviewpixels" id="id69" name="id69">SyncCacheViewPixels</a></li>
<li><a class="reference" href="#syncimagepixels" id="id70" name="id70">SyncImagePixels</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id47" id="accesscacheviewpixels" name="accesscacheviewpixels">AccessCacheViewPixels</a></h1>
<div class="section">
<h2><a id="synopsis" name="synopsis">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AccessCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
</div>
<div class="section">
<h2><a id="description" name="description">Description</a></h2>
<p>Method AccessCacheViewPixels returns writeable pixels associated with
the specified view.</p>
<p>The format of the AccessCacheViewPixels method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AccessCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>indexes:</dt>
<dd>Method AccessCacheViewPixels returns the pixels associated with
the specified view.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id48" id="acquirecacheviewpixels" name="acquirecacheviewpixels">AcquireCacheViewPixels</a></h1>
<div class="section">
<h2><a id="id1" name="id1">Synopsis</a></h2>
<pre class="literal-block">
const <a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AcquireCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x,
                                           const long y, const unsigned long columns,
                                           const unsigned long rows,
                                           <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id2" name="id2">Description</a></h2>
<p>Method AcquireCacheViewPixels gets pixels from the in-memory or disk pixel
cache as defined by the geometry parameters for read-only access.   A
pointer to the pixels is returned if the pixels are transferred, otherwise
NULL is returned.</p>
<p>The format of the AcquireCacheViewPixels method is:</p>
<pre class="literal-block">
const <a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AcquireCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x,
                                           const long y, const unsigned long columns,
                                           const unsigned long rows,
                                           <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<dl class="docutils">
<dt>pixels:</dt>
<dd>Method AcquireCacheViewPixels returns a null pointer if an error
occurs, otherwise a pointer to the view pixels.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
<dt>exception:</dt>
<dd>Return any errors or warnings in this structure.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id49" id="acquirecacheviewindexes" name="acquirecacheviewindexes">AcquireCacheViewIndexes</a></h1>
<div class="section">
<h2><a id="id3" name="id3">Synopsis</a></h2>
<pre class="literal-block">
const IndexPacket *AcquireCacheViewIndexes( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
</div>
<div class="section">
<h2><a id="id4" name="id4">Description</a></h2>
<p>Method AcquireCacheViewIndexes returns read-only indexes associated with
the specified view.</p>
<p>The format of the AcquireCacheViewIndexes method is:</p>
<pre class="literal-block">
const IndexPacket *AcquireCacheViewIndexes( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>indexes:</dt>
<dd>Method AcquireCacheViewIndexes returns the indexes
associated with the specified view.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id50" id="acquireimagepixels" name="acquireimagepixels">AcquireImagePixels</a></h1>
<div class="section">
<h2><a id="id5" name="id5">Synopsis</a></h2>
<pre class="literal-block">
const <a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AcquireImagePixels( const <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                                       const unsigned long columns, const unsigned long rows,
                                       <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id6" name="id6">Description</a></h2>
<p>AcquireImagePixels() obtains a pixel region for read-only access. If the
region is successfully accessed, a pointer to it is returned, otherwise
NULL is returned. The returned pointer may point to a temporary working
copy of the pixels or it may point to the original pixels in memory.
Performance is maximized if the selected area is part of one row, or one
or more full rows, since then there is opportunity to access the pixels
in-place (without a copy) if the image is in RAM, or in a memory-mapped
file. The returned pointer should <em>never</em> be deallocated by the user.</p>
<p>Pixels accessed via the returned pointer represent a simple array of type
PixelPacket. If the image storage class is PsudeoClass, call GetIndexes()
after invoking GetImagePixels() to obtain the colormap indexes (of type
IndexPacket) corresponding to the region.</p>
<p>If you plan to modify the pixels, use GetImagePixels() instead.</p>
<p>The format of the AcquireImagePixels() method is:</p>
<pre class="literal-block">
const <a class="reference" href="types.html#pixelpacket">PixelPacket</a> *AcquireImagePixels( const <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                                       const unsigned long columns, const unsigned long rows,
                                       <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<dl class="docutils">
<dt>status:</dt>
<dd>AcquireImagePixels() returns a pointer to the pixels if they
are transferred, otherwise a NULL is returned.</dd>
<dt>image:</dt>
<dd>The image.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
<dt>exception:</dt>
<dd>Return any errors or warnings in this structure.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id51" id="acquireonecacheviewpixel" name="acquireonecacheviewpixel">AcquireOneCacheViewPixel</a></h1>
<div class="section">
<h2><a id="id7" name="id7">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> AcquireOneCacheViewPixel( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                       <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id8" name="id8">Description</a></h2>
<p>Method AcquireOneCacheViewPixel gets one pixel from the in-memory or disk
pixel cache as defined by the geometry parameters for read-only access.
The image background color is returned if there is an error retrieving
the pixel.</p>
<p>The format of the AcquireOneCacheViewPixel method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> AcquireOneCacheViewPixel( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                       <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<dl class="docutils">
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
<dt>x,y:</dt>
<dd>Coordinate of pixel to retrieve</dd>
<dt>exception:</dt>
<dd>Return any errors or warnings in this structure.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id52" id="acquireonepixel" name="acquireonepixel">AcquireOnePixel</a></h1>
<div class="section">
<h2><a id="id9" name="id9">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> AcquireOnePixel( const <a class="reference" href="types.html#image">Image</a> image, const long x, const long y,
                              <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> exception );
</pre>
</div>
<div class="section">
<h2><a id="id10" name="id10">Description</a></h2>
<p>AcquireOnePixel() returns a single pixel at the specified (x,y) location.
The image background color is returned if an error occurs.  If errors
are to be returned to the image, use GetOnePixel() instead. This function
is convenient but performance will be poor if it is used too often.</p>
<p>The format of the AcquireOnePixel() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> AcquireOnePixel( const <a class="reference" href="types.html#image">Image</a> image, const long x, const long y,
                              <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> exception );
</pre>
<dl class="docutils">
<dt>pixels:</dt>
<dd>AcquireOnePixel() returns a pixel at the specified (x,y)
location.</dd>
<dt>image:</dt>
<dd>The image.</dd>
<dt>x,y:</dt>
<dd>These values define the location of the pixel to return.</dd>
<dt>exception:</dt>
<dd>Return any errors or warnings in this structure.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id53" id="destroycacheinfo" name="destroycacheinfo">DestroyCacheInfo</a></h1>
<div class="section">
<h2><a id="id11" name="id11">Synopsis</a></h2>
<pre class="literal-block">
void DestroyCacheInfo( <a class="reference" href="types.html#cache">Cache</a> cache );
</pre>
</div>
<div class="section">
<h2><a id="id12" name="id12">Description</a></h2>
<p>DestroyCacheInfo() deallocates memory associated with the pixel cache.</p>
<p>The format of the DestroyCacheInfo() method is:</p>
<pre class="literal-block">
void DestroyCacheInfo( <a class="reference" href="types.html#cache">Cache</a> cache );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>cache:</dt>
<dd>Specifies a pointer to a Cache structure.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id54" id="destroyimagepixels" name="destroyimagepixels">DestroyImagePixels</a></h1>
<div class="section">
<h2><a id="id13" name="id13">Synopsis</a></h2>
<pre class="literal-block">
void DestroyImagePixels( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
</div>
<div class="section">
<h2><a id="id14" name="id14">Description</a></h2>
<p>DestroyImagePixels() deallocates memory associated with the pixel cache.</p>
<p>The format of the DestroyImagePixels() method is:</p>
<pre class="literal-block">
void DestroyImagePixels( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id55" id="getcacheviewpixels" name="getcacheviewpixels">GetCacheViewPixels</a></h1>
<div class="section">
<h2><a id="id15" name="id15">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetCacheViewPixels( <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                 const unsigned long columns, const unsigned long rows,
                                 <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id16" name="id16">Description</a></h2>
<p>GetCacheViewPixels() gets writeable pixels from the in-memory or disk pixel
cache as defined by the geometry parameters.   A pointer to the pixels
is returned if the pixels are transferred, otherwise a NULL is returned.</p>
<p>The format of the GetCacheViewPixels method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetCacheViewPixels( <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                 const unsigned long columns, const unsigned long rows,
                                 <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<dl class="docutils">
<dt>pixels:</dt>
<dd>Method GetCacheViewPixels returns a null pointer if an error
occurs, otherwise a pointer to the view pixels.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
<dt>exception:</dt>
<dd>Any errors are reported here.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id56" id="getcacheviewimage" name="getcacheviewimage">GetCacheViewImage</a></h1>
<div class="section">
<h2><a id="id17" name="id17">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#image">Image</a> *GetCacheViewImage( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
</div>
<div class="section">
<h2><a id="id18" name="id18">Description</a></h2>
<p>Method GetCacheViewImage returns the image which allocated the view.</p>
<p>The format of the GetCacheViewImage method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#image">Image</a> *GetCacheViewImage( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>Method GetCacheViewImage returns the image which allocated
the view.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id57" id="getcacheviewindexes" name="getcacheviewindexes">GetCacheViewIndexes</a></h1>
<div class="section">
<h2><a id="id19" name="id19">Synopsis</a></h2>
<pre class="literal-block">
IndexPacket *GetCacheViewIndexes( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
</div>
<div class="section">
<h2><a id="id20" name="id20">Description</a></h2>
<p>Method GetCacheViewIndexes returns writeable indexes associated with
the specified view.</p>
<p>The format of the GetCacheViewIndexes method is:</p>
<pre class="literal-block">
IndexPacket *GetCacheViewIndexes( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>indexes:</dt>
<dd>Method GetCacheViewIndexes returns the indexes associated with
the specified view.</dd>
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id58" id="getimagepixels" name="getimagepixels">GetImagePixels</a></h1>
<div class="section">
<h2><a id="id21" name="id21">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetImagePixels( <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                             const unsigned long columns, const unsigned long rows );
</pre>
</div>
<div class="section">
<h2><a id="id22" name="id22">Description</a></h2>
<p>GetImagePixels() obtains a pixel region for read/write access. If the
region is successfully accessed, a pointer to a PixelPacket array
representing the region is returned, otherwise NULL is returned.</p>
<p>The returned pointer may point to a temporary working copy of the pixels
or it may point to the original pixels in memory. Performance is maximized
if the selected area is part of one row, or one or more full rows, since
then there is opportunity to access the pixels in-place (without a copy)
if the image is in RAM, or in a memory-mapped file. The returned pointer
should <em>never</em> be deallocated by the user.</p>
<p>Pixels accessed via the returned pointer represent a simple array of type
PixelPacket. If the image storage class is PsudeoClass, call GetIndexes()
after invoking GetImagePixels() to obtain the colormap indexes (of type
IndexPacket) corresponding to the region.  Once the PixelPacket (and/or
IndexPacket) array has been updated, the changes must be saved back to
the underlying image using SyncImagePixels() or they may be lost.</p>
<p>The format of the GetImagePixels() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetImagePixels( <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                             const unsigned long columns, const unsigned long rows );
</pre>
<dl class="docutils">
<dt>status:</dt>
<dd>GetImagePixels() returns a pointer to the pixels if they are
transferred, otherwise a NULL is returned.</dd>
<dt>image:</dt>
<dd>The image.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id59" id="getimagevirtualpixelmethod" name="getimagevirtualpixelmethod">GetImageVirtualPixelMethod</a></h1>
<div class="section">
<h2><a id="id23" name="id23">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#virtualpixelmethod">VirtualPixelMethod</a> GetImageVirtualPixelMethod( const <a class="reference" href="types.html#image">Image</a> *image );
</pre>
</div>
<div class="section">
<h2><a id="id24" name="id24">Description</a></h2>
<p>GetImageVirtualPixelMethod() gets the &quot;virtual pixels&quot; method for the
image.  A virtual pixel is any pixel access that is outside the boundaries
of the image cache.</p>
<p>The format of the GetImageVirtualPixelMethod() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#virtualpixelmethod">VirtualPixelMethod</a> GetImageVirtualPixelMethod( const <a class="reference" href="types.html#image">Image</a> *image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id60" id="getindexes" name="getindexes">GetIndexes</a></h1>
<div class="section">
<h2><a id="id25" name="id25">Synopsis</a></h2>
<pre class="literal-block">
IndexPacket *GetIndexes( const <a class="reference" href="types.html#image">Image</a> *image );
</pre>
</div>
<div class="section">
<h2><a id="id26" name="id26">Description</a></h2>
<p>GetIndexes() returns the colormap indexes associated with the last call to
SetImagePixels() or GetImagePixels(). NULL is returned if colormap indexes
are not available.</p>
<p>The format of the GetIndexes() method is:</p>
<pre class="literal-block">
IndexPacket *GetIndexes( const <a class="reference" href="types.html#image">Image</a> *image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>indexes:</dt>
<dd>GetIndexes() returns the indexes associated with the last
call to SetImagePixels() or GetImagePixels().</dd>
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id61" id="getonepixel" name="getonepixel">GetOnePixel</a></h1>
<div class="section">
<h2><a id="id27" name="id27">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> GetOnePixel( const <a class="reference" href="types.html#image">Image</a> image, const long x, const long y );
</pre>
</div>
<div class="section">
<h2><a id="id28" name="id28">Description</a></h2>
<p>GetOnePixel() returns a single pixel at the specified (x,y) location.
The image background color is returned if an error occurs.  This function
is convenient but performance will be poor if it is used too often.
GetOnePixel() is identical to AcquireOnePixel() except that exceptions
are implicitly delivered to the image.</p>
<p>The format of the GetOnePixel() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> GetOnePixel( const <a class="reference" href="types.html#image">Image</a> image, const long x, const long y );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
<dt>x,y:</dt>
<dd>These values define the location of the pixel to return.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id62" id="getpixels" name="getpixels">GetPixels</a></h1>
<div class="section">
<h2><a id="id29" name="id29">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetPixels( const <a class="reference" href="types.html#image">Image</a> image );
</pre>
</div>
<div class="section">
<h2><a id="id30" name="id30">Description</a></h2>
<p>GetPixels() returns the pixels associated with the last call to
SetImagePixels() or GetImagePixels(). This is useful in order to access
an already selected region without passing the geometry of the region.</p>
<p>The format of the GetPixels() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *GetPixels( const <a class="reference" href="types.html#image">Image</a> image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>pixels:</dt>
<dd>GetPixels() returns the pixels associated with the last call
to SetImagePixels() or GetImagePixels().</dd>
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id63" id="modifycache" name="modifycache">ModifyCache</a></h1>
<div class="section">
<h2><a id="id31" name="id31">Synopsis</a></h2>
<pre class="literal-block">
MagickPassFail ModifyCache( <a class="reference" href="types.html#image">Image</a> *image, <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id32" name="id32">Description</a></h2>
<p>ModifyCache() ensures that there is only a single reference to the pixel
cache to be modified, updating the provided cache pointer to point to
a clone of the original pixel cache if necessary.  This is used to
implement copy on write.</p>
<p>The format of the ModifyCache method is:</p>
<pre class="literal-block">
MagickPassFail ModifyCache( <a class="reference" href="types.html#image">Image</a> *image, <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
<dt>exception:</dt>
<dd>Errors are reported here.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id64" id="opencacheview" name="opencacheview">OpenCacheView</a></h1>
<div class="section">
<h2><a id="id33" name="id33">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#viewinfo">ViewInfo</a> *OpenCacheView( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
</div>
<div class="section">
<h2><a id="id34" name="id34">Description</a></h2>
<p>OpenCacheView() opens a view into the pixel cache.</p>
<p>The format of the OpenCacheView method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#viewinfo">ViewInfo</a> *OpenCacheView( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id65" id="referencecache" name="referencecache">ReferenceCache</a></h1>
<div class="section">
<h2><a id="id35" name="id35">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#cache">Cache</a> ReferenceCache( <a class="reference" href="types.html#cache">Cache</a> cache_info );
</pre>
</div>
<div class="section">
<h2><a id="id36" name="id36">Description</a></h2>
<p>ReferenceCache() increments the reference count associated with the pixel
cache returning a pointer to the cache.</p>
<p>The format of the ReferenceCache method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#cache">Cache</a> ReferenceCache( <a class="reference" href="types.html#cache">Cache</a> cache_info );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>cache_info:</dt>
<dd>The cache_info.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id66" id="setcacheviewpixels" name="setcacheviewpixels">SetCacheViewPixels</a></h1>
<div class="section">
<h2><a id="id37" name="id37">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *SetCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                 const unsigned long columns, const unsigned long rows );
</pre>
</div>
<div class="section">
<h2><a id="id38" name="id38">Description</a></h2>
<p>SetCacheViewPixels() gets pixels from the in-memory or disk pixel cache as
defined by the geometry parameters.   A pointer to the pixels is returned
if the pixels are transferred, otherwise a NULL is returned.</p>
<p>The format of the SetCacheViewPixels method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *SetCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, const long x, const long y,
                                 const unsigned long columns, const unsigned long rows );
</pre>
<dl class="docutils">
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
<dt>exception:</dt>
<dd>Any errors are reported here.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id67" id="setimagepixels" name="setimagepixels">SetImagePixels</a></h1>
<div class="section">
<h2><a id="id39" name="id39">Synopsis</a></h2>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *SetImagePixels( <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                             const unsigned long columns, const unsigned long rows );
</pre>
</div>
<div class="section">
<h2><a id="id40" name="id40">Description</a></h2>
<p>SetImagePixels() initializes a pixel region for write-only access.
If the region is successfully intialized a pointer to a PixelPacket
array representing the region is returned, otherwise NULL is returned.
The returned pointer may point to a temporary working buffer for the
pixels or it may point to the final location of the pixels in memory.</p>
<p>Write-only access means that any existing pixel values corresponding to
the region are ignored.  This is useful while the initial image is being
created from scratch, or if the existing pixel values are to be
completely replaced without need to refer to their pre-existing values.
The application is free to read and write the pixel buffer returned by
SetImagePixels() any way it pleases. SetImagePixels() does not initialize
the pixel array values. Initializing pixel array values is the
application's responsibility.</p>
<p>Performance is maximized if the selected area is part of one row, or
one or more full rows, since then there is opportunity to access the
pixels in-place (without a copy) if the image is in RAM, or in a
memory-mapped file. The returned pointer should <em>never</em> be deallocated
by the user.</p>
<p>Pixels accessed via the returned pointer represent a simple array of type
PixelPacket. If the image storage class is PsudeoClass, call GetIndexes()
after invoking GetImagePixels() to obtain the colormap indexes (of type
IndexPacket) corresponding to the region.  Once the PixelPacket (and/or
IndexPacket) array has been updated, the changes must be saved back to
the underlying image using SyncCacheNexus() or they may be lost.</p>
<p>The format of the SetImagePixels() method is:</p>
<pre class="literal-block">
<a class="reference" href="types.html#pixelpacket">PixelPacket</a> *SetImagePixels( <a class="reference" href="types.html#image">Image</a> *image, const long x, const long y,
                             const unsigned long columns, const unsigned long rows );
</pre>
<dl class="docutils">
<dt>pixels:</dt>
<dd>SetImagePixels returns a pointer to the pixels if they are
transferred, otherwise a NULL is returned.</dd>
<dt>image:</dt>
<dd>The image.</dd>
<dt>x,y,columns,rows:</dt>
<dd>These values define the perimeter of a region of
pixels.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id68" id="setimagevirtualpixelmethod" name="setimagevirtualpixelmethod">SetImageVirtualPixelMethod</a></h1>
<div class="section">
<h2><a id="id41" name="id41">Synopsis</a></h2>
<pre class="literal-block">
SetImageVirtualPixelMethod( const <a class="reference" href="types.html#image">Image</a> *image, const <a class="reference" href="types.html#virtualpixelmethod">VirtualPixelMethod</a> method );
</pre>
</div>
<div class="section">
<h2><a id="id42" name="id42">Description</a></h2>
<p>SetImageVirtualPixelMethod() sets the &quot;virtual pixels&quot; method for the
image.  A virtual pixel is any pixel access that is outside the boundaries
of the image cache.</p>
<p>The format of the SetImageVirtualPixelMethod() method is:</p>
<pre class="literal-block">
SetImageVirtualPixelMethod( const <a class="reference" href="types.html#image">Image</a> *image, const <a class="reference" href="types.html#virtualpixelmethod">VirtualPixelMethod</a> method );
</pre>
<dl class="docutils">
<dt>image:</dt>
<dd>The image.</dd>
<dt>type:</dt>
<dd>choose from these access types:</dd>
</dl>
<p>EdgeVPType:  the edge pixels of the image extend infinitely.
Any pixel outside the image is assigned the same value as the
pixel at the edge closest to it.</p>
<p>TileVPType:  the image extends periodically or tiled.  The pixels
wrap around the edges of the image.</p>
<p>MirrorVPType:  mirror the image at the boundaries.</p>
<p>ConstantVPType:  every value outside the image is a constant as
defines by the pixel parameter.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id69" id="synccacheviewpixels" name="synccacheviewpixels">SyncCacheViewPixels</a></h1>
<div class="section">
<h2><a id="id43" name="id43">Synopsis</a></h2>
<pre class="literal-block">
MagickPassFail SyncCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
</div>
<div class="section">
<h2><a id="id44" name="id44">Description</a></h2>
<p>SyncCacheViewPixels() saves the view pixels to the in-memory or disk cache.
The method returns MagickPass if the pixel region is synced, otherwise
MagickFail.</p>
<p>The format of the SyncCacheViewPixels method is:</p>
<pre class="literal-block">
MagickPassFail SyncCacheViewPixels( const <a class="reference" href="types.html#viewinfo">ViewInfo</a> *view, <a class="reference" href="types.html#exceptioninfo">ExceptionInfo</a> *exception );
</pre>
<dl class="docutils">
<dt>view:</dt>
<dd>The address of a structure of type ViewInfo.</dd>
<dt>exception:</dt>
<dd>Any errors are reported here.</dd>
</dl>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id70" id="syncimagepixels" name="syncimagepixels">SyncImagePixels</a></h1>
<div class="section">
<h2><a id="id45" name="id45">Synopsis</a></h2>
<pre class="literal-block">
MagickPassFail SyncImagePixels( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
</div>
<div class="section">
<h2><a id="id46" name="id46">Description</a></h2>
<p>SyncImagePixels() saves the image pixels to the in-memory or disk cache.
The method returns MagickPass if the pixel region is synced, otherwise MagickFail.</p>
<p>The format of the SyncImagePixels() method is:</p>
<pre class="literal-block">
MagickPassFail SyncImagePixels( <a class="reference" href="types.html#image">Image</a> *image );
</pre>
<p>A description of each parameter follows:</p>
<dl class="docutils">
<dt>status:</dt>
<dd>SyncImagePixels() returns MagickPass if the image pixels are
transferred to the in-memory or disk cache otherwise MagickFail.</dd>
<dt>image:</dt>
<dd>The image.</dd>
</dl>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2008-10-26 18:44 UTC.

</div>
</body>
</html>
